const sqlite3 = require('sqlite3').verbose();

const bancoDeDados = new sqlite3.Database('Banco de dados.db');

function buscarNome(nome) {
  return new Promise(function(resolver, rejeitar) {
    const consulta = 'SELECT * FROM usuarios WHERE nome = ?';

    bancoDeDados.all(consulta, [nome], function(erro, linhas) {
      if (erro) {
        rejeitar(erro);
      } else {
        resolver(linhas);
      }
    });
  });
}

buscarNome('An√¥nimo')
  .then(function(resultado) {
    console.log(resultado);
  })
  .catch(function(erro) {
    console.error(erro);
  })
  .finally(function() {
    bancoDeDados.close();
  });
